<!DOCTYPE html>
<!--
  学生个人信息页面
  作用：
  - 展示当前登录学生的个人信息与系统信息
  - 支持编辑个人资料与修改密码
  - 提供导出信息的快捷操作
  交互：
  - 事件绑定与数据加载逻辑在 js/student.js 中实现
-->
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>学生个人信息 - 学生信息管理系统</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <!-- 导航栏 -->
        <nav class="navbar">
            <h1>学生信息管理系统</h1>
            <div class="user-info">
                <span id="studentName">学生</span>
                <button id="logoutBtn" class="btn btn-secondary">退出登录</button>
            </div>
        </nav>

        <!-- 学生个人仪表板：信息展示与操作入口 -->
        <main class="dashboard">
            <div class="dashboard-header">
                <h1>我的个人信息</h1>
                <button id="editInfoBtn" class="btn btn-primary">编辑信息</button>
            </div>

            <!-- 个人信息卡片：基础信息 + 联系方式 + 系统信息 -->
            <div class="profile-card">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <div class="avatar-placeholder">
                            <span id="avatarText">学</span>
                        </div>
                    </div>
                    <div class="profile-basic-info">
                        <h2 id="profileName">姓名</h2>
                        <p id="profileStudentId">学号</p>
                        <p id="profileClass">班级</p>
                    </div>
                </div>

                <div class="profile-details">
                    <div class="detail-group">
                        <h3>基本信息</h3>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <label>性别</label>
                                <span id="profileGender">-</span>
                            </div>
                            <div class="detail-item">
                                <label>年龄</label>
                                <span id="profileAge">-</span>
                            </div>
                            <div class="detail-item">
                                <label>专业</label>
                                <span id="profileMajor">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="detail-group">
                        <h3>联系方式</h3>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <label>电话</label>
                                <span id="profilePhone">-</span>
                            </div>
                            <div class="detail-item">
                                <label>邮箱</label>
                                <span id="profileEmail">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="detail-group">
                        <h3>系统信息</h3>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <label>注册时间</label>
                                <span id="profileCreatedAt">-</span>
                            </div>
                            <div class="detail-item">
                                <label>最后更新</label>
                                <span id="profileUpdatedAt">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 快捷操作：常用功能入口 -->
            <div class="quick-actions">
                <h3>快捷操作</h3>
                <div class="actions-grid">
                    <button id="changePasswordBtn" class="btn btn-secondary">
                        修改密码
                    </button>
                    <button id="exportInfoBtn" class="btn btn-secondary">
                        导出信息
                    </button>
                </div>
            </div>
        </main>

        <!-- 编辑个人信息模态框：修改公开资料 -->
        <div id="editModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>编辑个人信息</h2>
                    <button class="modal-close">&times;</button>
                </div>
                <form id="editForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editGender">性别</label>
                            <select id="editGender" name="gender">
                                <option value="">请选择</option>
                                <option value="男">男</option>
                                <option value="女">女</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editAge">年龄</label>
                            <input type="number" id="editAge" name="age" min="15" max="50">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editClass">班级</label>
                            <input type="text" id="editClass" name="className">
                        </div>
                        <div class="form-group">
                            <label for="editMajor">专业</label>
                            <input type="text" id="editMajor" name="major">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editPhone">电话</label>
                            <input type="tel" id="editPhone" name="phone">
                        </div>
                        <div class="form-group">
                            <label for="editEmail">邮箱</label>
                            <input type="email" id="editEmail" name="email">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">保存</button>
                        <button type="button" class="btn btn-secondary modal-close">取消</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- 修改密码模态框：更改登录凭据（需校验一致性） -->
        <div id="passwordModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>修改密码</h2>
                    <button class="modal-close">&times;</button>
                </div>
                <form id="passwordForm">
                    <div class="form-group">
                        <label for="currentPassword">当前密码</label>
                        <input type="password" id="currentPassword" name="currentPassword" required>
                    </div>
                    <div class="form-group">
                        <label for="newPassword">新密码</label>
                        <input type="password" id="newPassword" name="newPassword" required minlength="6">
                    </div>
                    <div class="form-group">
                        <label for="confirmNewPassword">确认新密码</label>
                        <input type="password" id="confirmNewPassword" name="confirmNewPassword" required minlength="6">
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">修改密码</button>
                        <button type="button" class="btn btn-secondary modal-close">取消</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- 消息提示区域：统一展示操作结果 -->
        <div id="messageArea" class="message-area"></div>
    </div>

    <!-- 页面脚本：学生端交互逻辑（见 js/student.js） -->
    <script src="js/student.js"></script>
</body>
</html>
